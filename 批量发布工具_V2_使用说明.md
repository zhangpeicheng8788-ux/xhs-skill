# å°çº¢ä¹¦ç¬”è®°æ‰¹é‡å‘å¸ƒå·¥å…· V2.0 - ä½¿ç”¨è¯´æ˜

## ğŸ“ æ­£ç¡®è·¯å¾„

å·¥å…·å·²å®‰è£…åˆ°ï¼š`D:\20260127XHS\Auto-Redbook-Skills-main`

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ 1ï¼šåŒå‡»å¯åŠ¨å™¨ï¼ˆæœ€ç®€å•ï¼‰

åŒå‡»æ–‡ä»¶ï¼š`å¯åŠ¨å‘å¸ƒå·¥å…·_V2.py`

### æ–¹å¼ 2ï¼šå‘½ä»¤è¡Œè¿è¡Œ

```bash
# äº¤äº’å¼æ¨¡å¼ï¼ˆæ¨èï¼‰
python D:\20260127XHS\Auto-Redbook-Skills-main\scripts\batch_publish_v2.py

# æŒ‡å®šè·¯å¾„
python D:\20260127XHS\Auto-Redbook-Skills-main\scripts\batch_publish_v2.py --path D:\jieyue_work

# æŒ‡å®šé—´éš”ï¼ˆ30åˆ†é’Ÿï¼‰
python D:\20260127XHS\Auto-Redbook-Skills-main\scripts\batch_publish_v2.py --path D:\jieyue_work --interval 30
```

---

## ğŸ†• V2.0 æ ¸å¿ƒåŠŸèƒ½

âœ… **æ‰‹åŠ¨æŒ‡å®šè·¯å¾„** - å¿…é¡»æ‰‹åŠ¨è¾“å…¥å¾…å‘å¸ƒçš„èµ„æºæ–‡ä»¶å¤¹è·¯å¾„  
âœ… **æ™ºèƒ½ç»“æ„æ£€æµ‹** - è‡ªåŠ¨è¯†åˆ«å•ç¬”è®°æˆ–å¤šç¬”è®°ç»“æ„  
âœ… **äº¤äº’å¼å†…å®¹è¾“å…¥** - æ¯ç¯‡ç¬”è®°å¯è‡ªå®šä¹‰æ ‡é¢˜å’Œæ­£æ–‡  
âœ… **æ–­ç‚¹ç»­ä¼ ** - è‡ªåŠ¨è·³è¿‡å·²å‘å¸ƒç¬”è®°  
âœ… **å‘å¸ƒè®°å½•ä¿å­˜** - è‡ªåŠ¨ä¿å­˜å‘å¸ƒè®°å½•åˆ°ç¬”è®°ç›®å½•  

---

## ğŸ“‚ æ”¯æŒçš„ç¬”è®°ç»“æ„

### ç»“æ„ä¸€ï¼šå•ä¸ªç¬”è®°

```
D:\jieyue_work\note_1\
â”œâ”€â”€ cover.png          # å°é¢ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ card_1.png         # å†…å®¹å¡ç‰‡
â”œâ”€â”€ card_2.png
â””â”€â”€ ...
```

### ç»“æ„äºŒï¼šå¤šä¸ªç¬”è®°

```
D:\jieyue_work\
â”œâ”€â”€ note_1\
â”‚   â”œâ”€â”€ cover.png
â”‚   â””â”€â”€ card_*.png
â”œâ”€â”€ note_2\
â”‚   â”œâ”€â”€ cover.png
â”‚   â””â”€â”€ card_*.png
â””â”€â”€ ...
```

---

## ğŸ¯ ä½¿ç”¨æµç¨‹

### ç¬¬ 1 æ­¥ï¼šç¡®ä¿å·²ç™»å½•

```bash
# å¦‚æœæœªç™»å½•ï¼Œå…ˆè¿è¡Œç™»å½•è„šæœ¬
python D:\20260127XHS\Auto-Redbook-Skills-main\scripts\login_xhs.py
```

### ç¬¬ 2 æ­¥ï¼šå¯åŠ¨å·¥å…·

åŒå‡» `å¯åŠ¨å‘å¸ƒå·¥å…·_V2.py` æˆ–è¿è¡Œå‘½ä»¤ï¼š

```bash
python D:\20260127XHS\Auto-Redbook-Skills-main\scripts\batch_publish_v2.py
```

### ç¬¬ 3 æ­¥ï¼šè¾“å…¥èµ„æºè·¯å¾„

```
Please enter the resource folder path:
Path > D:\jieyue_work
```

**æç¤º**ï¼šå¯ä»¥ç›´æ¥æ‹–æ‹½æ–‡ä»¶å¤¹åˆ°çª—å£

### ç¬¬ 4 æ­¥ï¼šç¡®è®¤ç¬”è®°åˆ—è¡¨

å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ˜¾ç¤ºï¼š

```
Detected multiple note structure, total 5 notes

Loading note information...
   OK note_1: 3280å…ƒæ‹¿é©¾ç…§ï¼å¾·å®‰é©¾æ ¡æ˜¥èŠ‚ç‰¹æƒ æ¥äº† (7 images) [Pending]
   OK note_2: 35å¤©æ‹¿è¯ï¼å¾·å®‰é©¾æ ¡å­¦è½¦çœŸå®ç»å† (8 images) [Pending]
   ...
```

### ç¬¬ 5 æ­¥ï¼šè¾“å…¥ç¬”è®°å†…å®¹

ä¸ºæ¯ç¯‡ç¬”è®°è¾“å…¥æ ‡é¢˜å’Œæ­£æ–‡ï¼š

```
Note: note_1
   Current title: 3280å…ƒæ‹¿é©¾ç…§ï¼å¾·å®‰é©¾æ ¡æ˜¥èŠ‚ç‰¹æƒ æ¥äº†
   Image count: 7

Enter note title (leave empty to use default):
Title > 3280å…ƒæ‹¿é©¾ç…§ï¼å¾·å®‰é©¾æ ¡æ˜¥èŠ‚ç‰¹æƒ æ¥äº†

Enter note content (multi-line supported, type END to finish):

ğŸ‰ æ˜¥èŠ‚å­¦è½¦è¶…å€¼ç¦åˆ©ï¼
åŸä»· 4800 å…ƒï¼Œç°åœ¨åªè¦ 3280 å…ƒï¼
#å¾·å®‰é©¾æ ¡ #æ˜¥èŠ‚å­¦è½¦
END
```

### ç¬¬ 6 æ­¥ï¼šç¡®è®¤å¹¶å‘å¸ƒ

```
Publish plan:
   Note count: 5
   Publish interval: 20 minutes
   Estimated time: 80 minutes

Confirm to start publishing? (type yes to continue): yes
```

---

## âš™ï¸ å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--path` | èµ„æºæ–‡ä»¶å¤¹è·¯å¾„ | æ— ï¼ˆäº¤äº’å¼è¾“å…¥ï¼‰ |
| `--interval` | å‘å¸ƒé—´éš”ï¼ˆåˆ†é’Ÿï¼‰ | 20 |
| `--include-published` | åŒ…å«å·²å‘å¸ƒç¬”è®° | False |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# 1. äº¤äº’å¼è¾“å…¥è·¯å¾„
python scripts/batch_publish_v2.py

# 2. æŒ‡å®šè·¯å¾„
python scripts/batch_publish_v2.py --path D:\jieyue_work

# 3. æŒ‡å®šè·¯å¾„å’Œé—´éš”
python scripts/batch_publish_v2.py --path D:\jieyue_work --interval 30

# 4. é‡æ–°å‘å¸ƒæ‰€æœ‰ç¬”è®°
python scripts/batch_publish_v2.py --path D:\jieyue_work --include-published
```

---

## ğŸ“Š å‘å¸ƒè®°å½•

æ¯ç¯‡ç¬”è®°å‘å¸ƒæˆåŠŸåï¼Œä¼šåœ¨ç¬”è®°ç›®å½•ç”Ÿæˆ `publish_record.json`ï¼š

```json
{
  "note_id": "note_1",
  "title": "3280å…ƒæ‹¿é©¾ç…§ï¼å¾·å®‰é©¾æ ¡æ˜¥èŠ‚ç‰¹æƒ æ¥äº†",
  "published_at": "2026-01-29T13:10:00",
  "note_id_xhs": "6978527100000000220308dc",
  "link": "https://www.xiaohongshu.com/explore/6978527100000000220308dc"
}
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1ï¼šæç¤º"Not logged in or Cookie expired"

**è§£å†³**ï¼š
```bash
python D:\20260127XHS\Auto-Redbook-Skills-main\scripts\login_xhs.py
```

### Q2ï¼šå¦‚ä½•è·³è¿‡å·²å‘å¸ƒçš„ç¬”è®°ï¼Ÿ

**é»˜è®¤è¡Œä¸º**ï¼šå·¥å…·ä¼šè‡ªåŠ¨è·³è¿‡å·²å‘å¸ƒçš„ç¬”è®°

**é‡æ–°å‘å¸ƒ**ï¼š
```bash
python scripts/batch_publish_v2.py --path D:\jieyue_work --include-published
```

### Q3ï¼šå¦‚ä½•ä¿®æ”¹å‘å¸ƒé—´éš”ï¼Ÿ

```bash
python scripts/batch_publish_v2.py --path D:\jieyue_work --interval 30
```

---

## ğŸ“ æ–‡ä»¶ä½ç½®

| æ–‡ä»¶ | è·¯å¾„ |
|------|------|
| ä¸»è„šæœ¬ | `D:\20260127XHS\Auto-Redbook-Skills-main\scripts\batch_publish_v2.py` |
| è¾…åŠ©æ¨¡å— | `D:\20260127XHS\Auto-Redbook-Skills-main\scripts\publish_helper.py` |
| å¯åŠ¨å™¨ | `D:\20260127XHS\Auto-Redbook-Skills-main\å¯åŠ¨å‘å¸ƒå·¥å…·_V2.py` |
| æµ‹è¯•è„šæœ¬ | `D:\20260127XHS\Auto-Redbook-Skills-main\test_v2.py` |
| Cookie æ–‡ä»¶ | `D:\20260127XHS\Auto-Redbook-Skills-main\.env` |

---

## âœ… æµ‹è¯•ç»“æœ

æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼š

- âœ… è„šæœ¬æ–‡ä»¶å­˜åœ¨
- âœ… è¾…åŠ©æ¨¡å—å­˜åœ¨
- âœ… å¯åŠ¨å™¨å­˜åœ¨
- âœ… Cookie æ–‡ä»¶å­˜åœ¨
- âœ… æµ‹è¯•æ•°æ®å®Œæ•´ï¼ˆ5ä¸ªç¬”è®°æ–‡ä»¶å¤¹ï¼‰
- âœ… æ¨¡å—å¯¼å…¥æˆåŠŸ
- âœ… Cookie åŠ è½½æˆåŠŸ

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

**æœ€ç®€å•çš„æ–¹å¼**ï¼š

åŒå‡»æ–‡ä»¶ï¼š`D:\20260127XHS\Auto-Redbook-Skills-main\å¯åŠ¨å‘å¸ƒå·¥å…·_V2.py`

æŒ‰æç¤ºæ“ä½œå³å¯ï¼
